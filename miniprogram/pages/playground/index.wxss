/* miniprogram/pages/playground/index.wxss */
page {
  background: #fdfbf7;
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
  padding-bottom: 60rpx;
}

.playground-container {
  position: relative;
}

/* === Room Area (Top) - 极简背景 === */
.room-container {
  width: 100%;
  height: 60vh; /* 稍微降低高度，让大宠物更聚焦 */
  position: relative;
  /* 移除复杂的背景图，使用微妙的中心亮色渐变，聚焦中心 */
  background: radial-gradient(circle at center, #fffdf9 0%, #fdfbf7 70%);
  margin-bottom: 20rpx;
}

/* Pet Positioning - 绝对居中 */
.pet-container {
  position: absolute;
  top: 52%; /* 垂直居中稍微偏下，视觉平衡 */
  left: 50%;
  transform: translate(-50%, -50%); /* 完美的水平垂直居中 */
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  pointer-events: none; /* 容器不阻挡点击，图片阻挡 */
}

.pet-character {
  width: 550rpx;  /* 超大尺寸 */
  height: 550rpx; /* 超大尺寸 */
  transition: all 0.3s ease;
  /* 增强投影，让它在纯色背景上更立体 */
  filter: drop-shadow(0 20rpx 40rpx rgba(93, 64, 55, 0.15));
  pointer-events: auto; /* 图片可以点击 */
}

/* Animations */
@keyframes pet-pat {
  0% { transform: scale(1); }
  30% { transform: scale(0.95); }
  60% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
.pet-animation { animation: pet-pat 0.8s ease-out; }

@keyframes eating {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(0.96) translateY(-10rpx); }
}
.eating-animation { animation: eating 0.8s ease-in-out infinite; }

/* === UI Overlay (Floating Elements) === */
.ui-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  z-index: 20;
}
.ui-overlay > view { pointer-events: auto; }

/* 通用胶囊样式 (左上和右上) */
.status-pill {
  position: absolute;
  top: calc(env(safe-area-inset-top) + 20rpx);
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12rpx);
  padding: 8rpx 20rpx;
  border-radius: 40rpx;
  display: flex;
  align-items: center;
  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);
  border: 1rpx solid rgba(255,255,255,0.6);
  color: #5d4037;
}

.pet-info { left: 30rpx; }
.resource-info { right: 30rpx; }

.pill-icon { font-size: 28rpx; margin-right: 8rpx; }
.pill-text { font-size: 26rpx; font-weight: bold; }
.v-divider { width: 2rpx; height: 20rpx; background: #ddd; margin: 0 12rpx; }
.pill-label { font-size: 22rpx; color: #888; margin-right: 6rpx; }
.pill-value { font-size: 26rpx; font-weight: 800; color: #ff6b81; }
.pill-value.low { color: #888; }

/* === Floating Action Buttons (Right Side) === */
.action-buttons {
  position: absolute;
  bottom: 40rpx;
  right: 30rpx;
  display: flex;
  flex-direction: column;
  gap: 30rpx;
  align-items: flex-end;
}

/* 磨砂玻璃按钮容器 */
.action-btn-glass {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.action-btn-glass:active { transform: scale(0.95); }

.glass-icon-box {
  width: 96rpx;
  height: 96rpx;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 32rpx; 
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 44rpx;
  box-shadow: 0 8rpx 24rpx rgba(0,0,0,0.08);
  border: 2rpx solid #fff;
  position: relative;
}

.glass-label {
  margin-top: 8rpx;
  font-size: 20rpx;
  color: #8d6e63; /* 适配浅色背景，稍微深一点的颜色 */
  font-weight: 600;
}

/* 按钮已被禁用的样式 */
.action-btn-glass.disabled { opacity: 0.6; filter: grayscale(1); }

/* 红点 */
.notification-dot {
  position: absolute; top: -4rpx; right: -4rpx;
  width: 20rpx; height: 20rpx; background: #ff5252;
  border-radius: 50%; border: 2rpx solid #fff;
}

/* === Grid Menu (Bottom) === */
.menu-section {
  padding: 0 30rpx;
  margin-top: -10rpx;
}

.section-title {
  font-size: 30rpx;
  font-weight: 800;
  color: #333;
  margin-bottom: 24rpx;
  padding-left: 10rpx;
}

.grid-menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
}

.grid-card {
  width: 31%; /* 一行三个 */
  background: #fff;
  border-radius: 28rpx;
  padding: 24rpx 10rpx;
  margin-bottom: 20rpx;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  box-shadow: 0 6rpx 20rpx rgba(230, 220, 210, 0.4); 
  border: 1rpx solid rgba(255,255,255, 0.6);
}

.grid-card:active { transform: scale(0.96); background: #fafafa; }

/* 卡片图标背景 */
.card-icon-bg {
  width: 80rpx; height: 80rpx;
  border-radius: 24rpx;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 12rpx;
}
.card-icon { font-size: 40rpx; }

/* 图标背景色 */
.card-icon-bg.purple { background: #f3e5f5; color: #ab47bc; }
.card-icon-bg.pink   { background: #fce4ec; color: #ec407a; }
.card-icon-bg.blue   { background: #e3f2fd; color: #42a5f5; }
.card-icon-bg.yellow { background: #fff8e1; color: #ffca28; }
.card-icon-bg.red    { background: #ffebee; color: #ef5350; }
.card-icon-bg.cyan   { background: #e0f7fa; color: #26c6da; }

.card-info { text-align: center; }
.card-title { font-size: 24rpx; font-weight: bold; color: #444; display: block; margin-bottom: 4rpx; }
.card-desc { font-size: 18rpx; color: #999; display: block; }

/* 徽标 Tag */
.tag-badge {
  position: absolute; top: -10rpx; right: -10rpx;
  font-size: 18rpx; padding: 4rpx 10rpx;
  border-radius: 12rpx; color: #fff;
  font-weight: bold; border: 2rpx solid #fff;
  box-shadow: 0 4rpx 8rpx rgba(0,0,0,0.1);
}
.tag-badge.quiz { background: #ff9800; }
.tag-badge.new { background: #ef5350; }
.tag-badge.love { background: #ff4081; }


/* === Toast & Note === */
.status-toast {
  position: absolute; top: 75%; left: 50%; transform: translate(-50%, -50%); /* 调整位置避免挡住宠物 */
  background: rgba(0, 0, 0, 0.6); color: white; padding: 16rpx 32rpx;
  border-radius: 40rpx; font-size: 26rpx; z-index: 100;
  backdrop-filter: blur(4rpx);
}

.travel-note-container {
  position: absolute; top: 52%; left: 50%; transform: translate(-50%, -50%);
  text-align: center; z-index: 15;
}
.travel-note { width: 360rpx; height: 270rpx; }
.note-text { display: block; font-size: 30rpx; color: #5d4037; margin-top: 10rpx; font-weight: bold; }
.return-time { display: block; font-size: 24rpx; color: #888; margin-top: 6rpx; }

/* === Particles === */
.heart-particle {
  position: absolute; font-size: 40rpx; animation: float-up 2s ease-out forwards; pointer-events: none;
}
@keyframes float-up {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-150rpx) scale(0.5); }
}

/* === Modals (保持原有样式) === */
.log-modal-mask {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.5); z-index: 100;
  display: flex; justify-content: center; align-items: center;
  visibility: hidden; opacity: 0; transition: all 0.3s;
}
.log-modal-mask.show { visibility: visible; opacity: 1; }

.log-modal-container {
  width: 600rpx; background: #fff; border-radius: 32rpx;
  padding: 30rpx; max-height: 70vh;
  display: flex; flex-direction: column;
}
.log-modal-header {
  display: flex; justify-content: space-between; align-items: center;
  padding-bottom: 24rpx; border-bottom: 2rpx solid #f5f5f5;
  font-size: 32rpx; font-weight: bold; color: #333;
}
.close-icon { color: #ccc; padding: 10rpx; font-size: 40rpx; line-height: 0.8; }
.log-scroll-view { flex: 1; min-height: 300rpx; max-height: 600rpx; padding-top: 24rpx; }
.modal-log-item { display: flex; align-items: flex-start; margin-bottom: 30rpx; }
.modal-log-avatar {
  width: 80rpx; height: 80rpx; border-radius: 50%; margin-right: 20rpx;
  border: 2rpx solid #fff; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.1);
  flex-shrink: 0;
}
.modal-log-top { display: flex; justify-content: space-between; margin-bottom: 8rpx; }
.modal-log-name { font-size: 26rpx; font-weight: bold; }
.modal-log-name.mine { color: #ff6b81; }
.modal-log-name.partner { color: #42a5f5; }
.modal-log-time { font-size: 22rpx; color: #bbb; }
.modal-log-desc { font-size: 26rpx; color: #666; line-height: 1.5; }
.empty-log { text-align: center; color: #ccc; font-size: 24rpx; margin-top: 100rpx; }

/* Egg Modal styles */
.egg-modal-mask { z-index: 2000; background: rgba(0,0,0,0.8); }
.egg-card { border-radius: 40rpx; }
.btn-get-egg { box-shadow: 0 10rpx 30rpx rgba(255, 107, 129, 0.4); }