/* miniprogram/pages/playground/index.wxss */
page {
  background: #fffbf0; 
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
  height: 100vh;
  overflow: hidden;
}

.playground-container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* === 1. ËêåÂÆ†Ëä±Âõ≠ËàûÂè∞ (Âç†ÊØî 52%) === */
.room-container {
  width: 100%;
  flex: 52;
  position: relative;
  background: linear-gradient(180deg, #fff0f5 0%, #fffcf5 100%);
  border-radius: 0 0 80rpx 80rpx;
  box-shadow: 0 20rpx 60rpx rgba(233, 30, 99, 0.08);
  margin-bottom: 0;
  overflow: hidden;
  z-index: 10;
  flex-shrink: 0;
}

.ground-spot {
  position: absolute;
  top: 65%;
  left: 50%;
  transform: translateX(-50%);
  width: 400rpx;
  height: 40rpx;
  background: rgba(230, 200, 180, 0.2);
  border-radius: 50%;
  filter: blur(8rpx);
  z-index: 5;
}

.pet-container {
  position: absolute;
  top: 54%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  display: flex; justify-content: center; align-items: center;
  width: 100%; pointer-events: none;
}

.pet-character {
  width: 500rpx; height: 500rpx;
  transition: all 0.3s ease;
  filter: drop-shadow(0 10rpx 20rpx rgba(93, 64, 55, 0.08));
  pointer-events: auto;
}

@keyframes pet-pat {
  0% { transform: scale(1); }
  30% { transform: scale(0.95); }
  60% { transform: scale(1.05); }
  100% { transform: scale(1); }
}
.pet-animation { animation: pet-pat 0.8s ease-out; }
@keyframes eating {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(0.96) translateY(-10rpx); }
}
.eating-animation { animation: eating 0.8s ease-in-out infinite; }


/* === 2. Áé´Áë∞ÂàÜÂâ≤Á∫ø (ÊñáÂ≠ó‰ºòÂåñ) === */
.section-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 10rpx 40rpx 0; /* Ë∞ÉÊï¥Èó¥Ë∑ù */
  opacity: 0.9;
  flex-shrink: 0;
  height: 60rpx; /* Âõ∫ÂÆöÈ´òÂ∫¶ÔºåÈò≤Ê≠¢Êå§Âéã */
}

.divider-line {
  flex: 1;
  height: 2rpx;
}
.divider-line.left { background: linear-gradient(90deg, transparent, #ffcdd2); }
.divider-line.right { background: linear-gradient(90deg, #ffcdd2, transparent); }

.divider-content {
  margin: 0 16rpx;
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.divider-text {
  font-size: 24rpx; /* Á®çÂæÆË∞ÉÂ§ß */
  color: #d88c9a; 
  font-weight: 800;
  letter-spacing: 2rpx;
  font-family: 'Times New Roman', serif;
}

.divider-icon { font-size: 22rpx; }


/* === 3. ÂäüËÉΩËä±ÂúÉ (Âç†ÊØî 48%) === */
.menu-section {
  padding: 0 32rpx;
  flex: 48;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-bottom: env(safe-area-inset-bottom);
}

.grid-menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-content: center;
  height: 100%;
}

.grid-card {
  width: 31%;
  background: linear-gradient(145deg, #ffffff, #fffdf8);
  border-radius: 32rpx;
  padding: 20rpx 6rpx; /* ÂáèÂ∞ëÂÜÖËæπË∑ùÔºåÁªôÊñáÂ≠óËÖæÁ©∫Èó¥ */
  margin-bottom: 20rpx;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  box-shadow: 0 8rpx 20rpx rgba(220, 200, 190, 0.3);
  border: 2rpx solid rgba(255, 255, 255, 0.8);
}

.grid-card:active {
  transform: scale(0.96);
  background: #fff0f5;
}

.card-icon-bg {
  width: 80rpx; height: 80rpx; border-radius: 24rpx;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 12rpx;
}
.card-icon { font-size: 40rpx; }

.card-icon-bg.purple { background: #f3e5f5; color: #ba68c8; }
.card-icon-bg.pink   { background: #fce4ec; color: #f06292; }
.card-icon-bg.blue   { background: #e3f2fd; color: #64b5f6; }
.card-icon-bg.yellow { background: #fffde7; color: #ffd54f; }
.card-icon-bg.red    { background: #ffebee; color: #e57373; }
.card-icon-bg.cyan   { background: #e0f7fa; color: #4dd0e1; }

.card-info { 
  text-align: center;
  width: 100%; /* Á°Æ‰øùÂÆΩÂ∫¶Âç†Êª°ÔºåÈò≤Ê≠¢ÊñáÂ≠óÊäòË°å */
}

/* üü¢ ‰øÆÂ§çÊñáÂ≠óÊòæÁ§∫ÈóÆÈ¢òÁöÑÊ†∏ÂøÉ‰ª£Á†Å */
.card-title { 
  font-size: 26rpx; /* Âä†Â§ßÂ≠óÂè∑ */
  font-weight: bold; 
  color: #5d4037; 
  margin-bottom: 6rpx; 
  display: block;
  white-space: nowrap; /* Á¶ÅÊ≠¢Êç¢Ë°å */
  overflow: hidden;
  text-overflow: ellipsis;
}

.card-desc { 
  font-size: 20rpx; /* Âä†Â§ßÂ≠óÂè∑ÔºåÁ°Æ‰øùÊ∏ÖÊô∞ÂèØËßÅ */
  color: #a1887f; 
  display: block;
  opacity: 0.9;
  /* ÁßªÈô§ transform: scaleÔºåËøô‰ºöÂØºËá¥Ê®°Á≥äÂíåÂ∏ÉÂ±ÄÈóÆÈ¢ò */
  white-space: nowrap; /* Á¶ÅÊ≠¢Êç¢Ë°å */
  overflow: hidden;
  text-overflow: ellipsis;
}

.tag-badge {
  position: absolute; top: -6rpx; right: -6rpx;
  font-size: 16rpx; padding: 4rpx 10rpx; border-radius: 12rpx; color: #fff;
  font-weight: bold; border: 2rpx solid #fff; 
  box-shadow: 0 4rpx 8rpx rgba(255, 100, 100, 0.2);
  z-index: 2;
}
.tag-badge.quiz { background: #ffa726; }
.tag-badge.new { background: #ef5350; }
.tag-badge.love { background: #ec407a; }


/* === UI ÊÇ¨ÊµÆÂ±Ç (‰øùÊåÅ‰∏çÂèò) === */
.ui-overlay {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none; z-index: 20;
}
.ui-overlay > view { pointer-events: auto; }

.status-pill {
  position: absolute;
  top: calc(env(safe-area-inset-top) + 16rpx);
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(12rpx);
  padding: 10rpx 24rpx;
  border-radius: 50rpx;
  display: flex;
  align-items: center;
  box-shadow: 0 6rpx 20rpx rgba(0,0,0,0.08);
  border: 2rpx solid rgba(255, 255, 255, 0.95);
  color: #5d4037;
}
.pet-info {
  left: 32rpx;
  min-width: 460rpx;
  justify-content: flex-start;
}
.resource-info { right: 32rpx; }
.pill-icon {
  font-size: 28rpx;
  margin-right: 8rpx;
}
.pill-text {
  font-size: 26rpx;
  font-weight: bold;
  margin-right: 4rpx;
}
.v-divider {
  width: 3rpx;
  height: 24rpx;
  background: linear-gradient(180deg, transparent, #d7ccc8, transparent);
  margin: 0 16rpx;
  border-radius: 2rpx;
}

/* Êñ∞Â¢ûÁöÑÁä∂ÊÄÅÁªÑÊ†∑Âºè */
.status-group {
  display: flex;
  gap: 20rpx;
}
.status-item {
  display: flex;
  align-items: center;
  gap: 8rpx;
}
.status-emoji {
  font-size: 32rpx;
  line-height: 1;
}
.status-info {
  display: flex;
  flex-direction: column;
  line-height: 1.2;
}
.pill-label {
  font-size: 20rpx;
  color: #8d6e63;
  font-weight: 400;
  line-height: 1;
}
.pill-value {
  font-size: 24rpx;
  font-weight: 600;
  color: #ec407a;
  line-height: 1.2;
  min-width: auto;
  text-align: left;
}
.pill-value.low {
  color: #9e9e9e;
  font-weight: 500;
}

.action-buttons {
  position: absolute; bottom: 50rpx;
  right: 28rpx; display: flex; flex-direction: column; gap: 28rpx; align-items: flex-end;
}

.action-btn-glass {
  display: flex; flex-direction: column; align-items: center; position: relative;
}
.action-btn-glass:active { transform: scale(0.95); }

.glass-icon-box {
  width: 90rpx; height: 90rpx;
  background: rgba(255, 255, 255, 0.85);
  border-radius: 30rpx; 
  display: flex; align-items: center; justify-content: center;
  font-size: 42rpx; 
  box-shadow: 0 8rpx 20rpx rgba(220, 200, 200, 0.2); 
  border: 2rpx solid #fff;
  position: relative;
  backdrop-filter: blur(4rpx);
}
.glass-label {
  margin-top: 6rpx; font-size: 20rpx; color: #8d6e63; font-weight: 700;
  text-shadow: 0 2rpx 4rpx rgba(255,255,255,0.8);
}
.action-btn-glass.disabled { opacity: 0.6; filter: grayscale(1); }
.notification-dot {
  position: absolute; top: -4rpx; right: -4rpx;
  width: 18rpx; height: 18rpx; background: #ff5252;
  border-radius: 50%; border: 2rpx solid #fff;
}

.status-toast {
  position: absolute; top: 78%; left: 50%; transform: translate(-50%, -50%);
  background: rgba(255, 240, 245, 0.9);
  color: #d81b60;
  padding: 14rpx 32rpx;
  border-radius: 40rpx; font-size: 24rpx; z-index: 100;
  box-shadow: 0 4rpx 16rpx rgba(233, 30, 99, 0.15);
  border: 1rpx solid #ffcdd2;
  font-weight: bold;
}
.travel-note-container {
  position: absolute; top: 54%; left: 50%; transform: translate(-50%, -50%);
  text-align: center; z-index: 15;
}
.travel-note { width: 340rpx; height: 255rpx; }
.note-text { display: block; font-size: 28rpx; color: #5d4037; margin-top: 8rpx; font-weight: bold; }
.return-time { display: block; font-size: 22rpx; color: #888; margin-top: 4rpx; }

.heart-particle {
  position: absolute; font-size: 40rpx; animation: float-up 2s ease-out forwards; pointer-events: none;
}
@keyframes float-up {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-150rpx) scale(0.5); }
}

/* Modals ‰øùÊåÅÂéüÊúâ‰ª£Á†Å */
.log-modal-mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 100; display: flex; justify-content: center; align-items: center; visibility: hidden; opacity: 0; transition: all 0.3s; }
.log-modal-mask.show { visibility: visible; opacity: 1; }
.log-modal-container { width: 600rpx; background: #fff; border-radius: 32rpx; padding: 30rpx; max-height: 70vh; display: flex; flex-direction: column; }
.log-modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 24rpx; border-bottom: 2rpx solid #f5f5f5; font-size: 32rpx; font-weight: bold; color: #333; }
.close-icon { color: #ccc; padding: 10rpx; font-size: 40rpx; line-height: 0.8; }
.log-scroll-view { flex: 1; min-height: 300rpx; max-height: 600rpx; padding-top: 24rpx; }
.modal-log-item { display: flex; align-items: flex-start; margin-bottom: 30rpx; }
.modal-log-avatar { width: 80rpx; height: 80rpx; border-radius: 50%; margin-right: 20rpx; border: 2rpx solid #fff; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.1); flex-shrink: 0; }
.modal-log-top { display: flex; justify-content: space-between; margin-bottom: 8rpx; }
.modal-log-name { font-size: 26rpx; font-weight: bold; }
.modal-log-name.mine { color: #ff6b81; }
.modal-log-name.partner { color: #42a5f5; }
.modal-log-time { font-size: 22rpx; color: #bbb; }
.modal-log-desc { font-size: 26rpx; color: #666; line-height: 1.5; }
.empty-log { text-align: center; color: #ccc; font-size: 24rpx; margin-top: 100rpx; }
.egg-modal-mask { z-index: 2000; background: rgba(0,0,0,0.8); }
.egg-card { border-radius: 40rpx; }
.btn-get-egg { box-shadow: 0 10rpx 30rpx rgba(255, 107, 129, 0.4); }