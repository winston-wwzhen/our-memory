/* miniprogram/pages/playground/index.wxss */
page {
  background: #fffbf0; 
  font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
  height: 100vh;
  overflow: hidden;
}

.playground-container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* === 1. ËêåÂÆ†Ëä±Âõ≠ËàûÂè∞ (Âç†ÊØî 64%) === */
.room-container {
  width: 100%;
  flex: 64; 
  position: relative;
  background: linear-gradient(180deg, #fff0f5 0%, #fffcf5 100%);
  border-radius: 0 0 60rpx 60rpx; 
  box-shadow: 0 10rpx 40rpx rgba(233, 30, 99, 0.05);
  margin-bottom: 0;
  overflow: hidden;
  z-index: 10;
  flex-shrink: 0;
}

.ground-spot {
  position: absolute;
  top: 68%; 
  left: 50%;
  transform: translateX(-50%);
  width: 420rpx;
  height: 40rpx;
  background: rgba(230, 200, 180, 0.2);
  border-radius: 50%;
  filter: blur(8rpx);
  z-index: 5;
}

.pet-container {
  position: absolute;
  top: 56%; 
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  display: flex; justify-content: center; align-items: center;
  width: 100%; pointer-events: none;
}

.pet-character {
  width: 520rpx; height: 520rpx; 
  transition: all 0.3s ease;
  filter: drop-shadow(0 10rpx 20rpx rgba(93, 64, 55, 0.08));
  pointer-events: auto;
}

/* QÂºπÁöÑÁÇπÂáªÂä®Áîª */
@keyframes pet-bounce {
  0% { transform: scale(1); }
  40% { transform: scale(1.1, 0.9); } 
  75% { transform: scale(0.95, 1.05); } 
  100% { transform: scale(1); }
}
.pet-bounce { 
  animation: pet-bounce 0.6s cubic-bezier(0.36, 0, 0.66, -0.56) forwards; 
}

@keyframes eating {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(0.96) translateY(-10rpx); }
}
.eating-animation { animation: eating 0.8s ease-in-out infinite; }


/* === 2. Áé´Áë∞ÂàÜÂâ≤Á∫ø (ÂéãÁº©È´òÂ∫¶) === */
.section-divider {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 40rpx; 
  opacity: 0.8;
  flex-shrink: 0;
  height: 40rpx; 
}

.divider-line {
  flex: 1;
  height: 2rpx;
}
.divider-line.left { background: linear-gradient(90deg, transparent, #ffcdd2); }
.divider-line.right { background: linear-gradient(90deg, #ffcdd2, transparent); }

.divider-content {
  margin: 0 12rpx;
  display: flex;
  align-items: center;
  gap: 6rpx;
}

.divider-text {
  font-size: 20rpx; 
  color: #d88c9a; 
  font-weight: 700;
  letter-spacing: 2rpx;
  font-family: 'Times New Roman', serif;
}

.divider-icon { font-size: 18rpx; }


/* === 3. ÂäüËÉΩËä±ÂúÉ (Âç†ÊØî 36%) === */
.menu-section {
  padding: 0 28rpx; 
  flex: 36; 
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-bottom: calc(env(safe-area-inset-bottom) + 10rpx);
}

.grid-menu {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-content: center;
  height: 100%;
}

.grid-card {
  width: 32%; 
  background: linear-gradient(145deg, #ffffff, #fffdf8);
  border-radius: 24rpx; 
  padding: 14rpx 4rpx; 
  margin-bottom: 16rpx; 
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  box-shadow: 0 6rpx 16rpx rgba(220, 200, 190, 0.25);
  border: 2rpx solid rgba(255, 255, 255, 0.8);
}

.grid-card:active {
  transform: scale(0.96);
  background: #fff0f5;
}

.card-icon-bg {
  width: 64rpx; height: 64rpx; 
  border-radius: 20rpx;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 8rpx; 
}
.card-icon { font-size: 32rpx; } 

.card-icon-bg.purple { background: #f3e5f5; color: #ba68c8; }
.card-icon-bg.pink   { background: #fce4ec; color: #f06292; }
.card-icon-bg.blue   { background: #e3f2fd; color: #64b5f6; }
.card-icon-bg.yellow { background: #fffde7; color: #ffd54f; }
.card-icon-bg.red    { background: #ffebee; color: #e57373; }
.card-icon-bg.cyan   { background: #e0f7fa; color: #4dd0e1; }

.card-info { 
  text-align: center;
  width: 100%; 
}

.card-title { 
  font-size: 24rpx; 
  font-weight: bold; 
  color: #5d4037; 
  margin-bottom: 2rpx; 
  display: block;
  white-space: nowrap; 
  overflow: hidden;
  text-overflow: ellipsis;
}

.card-desc { 
  font-size: 18rpx; 
  color: #a1887f; 
  display: block;
  opacity: 0.9;
  white-space: nowrap; 
  overflow: hidden;
  text-overflow: ellipsis;
}

.tag-badge {
  position: absolute; top: -6rpx; right: -6rpx;
  font-size: 16rpx; padding: 2rpx 8rpx; border-radius: 10rpx; color: #fff;
  font-weight: bold;
  border: 2rpx solid #fff; 
  box-shadow: 0 4rpx 8rpx rgba(255, 100, 100, 0.2);
  z-index: 2;
}
.tag-badge.quiz { background: #ffa726; }
.tag-badge.new { background: #ef5350; }
.tag-badge.love { background: #ec407a; }


/* === UI ÊÇ¨ÊµÆÂ±Ç === */
.ui-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none; z-index: 20;
}
.ui-overlay > view { pointer-events: auto; }

/* ÈÄöÁî®ÊØõÁéªÁíÉÊïàÊûú */
.glass-panel {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(16rpx);
  border: 2rpx solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 8rpx 32rpx rgba(31, 38, 135, 0.07);
}

/* È°∂ÈÉ®Áä∂ÊÄÅÂç°Áâá */
.status-card {
  position: absolute;
  top: calc(env(safe-area-inset-top) + 16rpx);
  left: 32rpx;
  padding: 16rpx 24rpx;
  border-radius: 32rpx;
  display: flex;
  flex-direction: column;
  gap: 12rpx;
  min-width: 320rpx;
}

.pet-identity {
  display: flex;
  align-items: center;
}
.pill-icon { font-size: 32rpx; margin-right: 12rpx; }
.pill-text { font-size: 30rpx; font-weight: 800; color: #5d4037; }

.divider-h {
  width: 100%; height: 2rpx; background: rgba(0,0,0,0.05);
}

.status-metrics {
  display: flex;
  flex-direction: column;
  gap: 12rpx;
}

.metric-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.metric-row:active { opacity: 0.7; }

.metric-label-group {
  display: flex; align-items: center; width: 120rpx;
}
.metric-icon { font-size: 26rpx; margin-right: 8rpx; }
.metric-name { font-size: 24rpx; color: #8d6e63; font-weight: bold; }
.help-badge {
  width: 24rpx; height: 24rpx; background: rgba(0,0,0,0.1);
  color: #fff; border-radius: 50%;
  font-size: 18rpx; display: flex; align-items: center; justify-content: center;
  margin-left: 8rpx;
}

.metric-bar-box {
  flex: 1; margin: 0 16rpx; width: 140rpx;
}
.metric-val {
  font-size: 22rpx; color: #ec407a; font-weight: bold; width: 100rpx; text-align: right;
}
.metric-val.low { color: #999; }

/* Áà±ÊÑèÂÄºËÉ∂Âõä (Âè≥‰∏äËßí) */
.love-pill {
  position: absolute;
  top: calc(env(safe-area-inset-top) + 16rpx);
  right: 32rpx;
  padding: 10rpx 20rpx;
  border-radius: 50rpx;
  display: flex; align-items: center;
}
.pill-value {
  font-size: 26rpx; font-weight: 700; color: #1976d2;
}

/* üü¢ Âè≥‰æßÂäüËÉΩÂØºËà™ÁªÑ (‰Ωç‰∫éËÉ∂Âõä‰∏ãÊñπ) */
.side-nav-group {
  position: absolute;
  top: calc(env(safe-area-inset-top) + 100rpx);
  right: 32rpx;
  display: flex;
  flex-direction: column;
  gap: 20rpx;
  align-items: center;
}

.mini-glass-btn {
  width: 72rpx; height: 72rpx;
  background: rgba(255, 255, 255, 0.65);
  border-radius: 20rpx;
  backdrop-filter: blur(4rpx);
  border: 2rpx solid rgba(255,255,255,0.8);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);
  position: relative;
}
.mini-glass-btn:active { transform: scale(0.95); opacity: 0.9; }
.mini-glass-btn text:first-child { font-size: 32rpx; margin-bottom: 2rpx; }
.mini-label { font-size: 16rpx; color: #8d6e63; font-weight: 700; }

.notification-dot.small {
  position: absolute; top: -2rpx; right: -2rpx; width: 14rpx; height: 14rpx;
}

/* üü¢ Â∫ïÈÉ®Êìç‰ΩúÊåâÈíÆÁªÑ */
.action-buttons {
  position: absolute; bottom: 40rpx; 
  right: 28rpx; display: flex; flex-direction: column; gap: 24rpx; align-items: flex-end;
}

.action-btn-glass {
  display: flex; flex-direction: column; align-items: center; position: relative;
}
.action-btn-glass:active { transform: scale(0.95); }

.glass-icon-box {
  width: 84rpx; height: 84rpx; 
  background: rgba(255, 255, 255, 0.85);
  border-radius: 28rpx; 
  display: flex; align-items: center; justify-content: center;
  font-size: 38rpx;
  box-shadow: 0 8rpx 20rpx rgba(220, 200, 200, 0.2); 
  border: 2rpx solid #fff;
  position: relative;
  backdrop-filter: blur(4rpx);
}
.glass-label {
  margin-top: 4rpx; font-size: 18rpx; color: #8d6e63; font-weight: 700;
  text-shadow: 0 2rpx 4rpx rgba(255,255,255,0.8);
}
.action-btn-glass.disabled { opacity: 0.6; filter: grayscale(1); }
.notification-dot {
  position: absolute; top: -4rpx; right: -4rpx;
  width: 18rpx; height: 18rpx; background: #ff5252;
  border-radius: 50%;
  border: 2rpx solid #fff;
}

/* Ë°•ÂÖÖÈ¢úËâ≤Á±ª */
.glass-icon-box.pink { background: #fce4ec; color: #f06292; }
.glass-icon-box.blue { background: #e3f2fd; color: #64b5f6; }
.glass-icon-box.orange { background: #fff3e0; color: #ffb74d; }
.glass-icon-box.green { background: #e8f5e9; color: #81c784; }
.glass-icon-box.yellow { background: #fffde7; color: #fbc02d; }

.status-toast {
  position: absolute; top: 78%; left: 50%; transform: translate(-50%, -50%);
  background: rgba(255, 240, 245, 0.9);
  color: #d81b60;
  padding: 14rpx 32rpx;
  border-radius: 40rpx; font-size: 24rpx; z-index: 100;
  box-shadow: 0 4rpx 16rpx rgba(233, 30, 99, 0.15);
  border: 1rpx solid #ffcdd2;
  font-weight: bold;
}

/* ÊóÖË°å‰æøÊù° */
.travel-note-container {
  position: absolute;
  top: 56%; left: 50%; transform: translate(-50%, -50%);
  text-align: center; z-index: 15;
}
.travel-note { width: 340rpx; height: 255rpx; }
.note-text { display: block; font-size: 28rpx; color: #5d4037; margin-top: 8rpx; font-weight: bold; }
.return-time { display: block; font-size: 22rpx; color: #888; margin-top: 4rpx; }

.heart-particle {
  position: absolute; font-size: 40rpx; animation: float-up 2s ease-out forwards; pointer-events: none;
}
@keyframes float-up {
  0% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-150rpx) scale(0.5); }
}

/* ÂºπÁ™óÂü∫Á°ÄÊ†∑Âºè */
.log-modal-mask, .help-modal-mask, .feed-modal-mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 100; display: flex; justify-content: center; align-items: center; visibility: hidden; opacity: 0; transition: all 0.3s; }
.log-modal-mask.show, .help-modal-mask.show, .feed-modal-mask.show { visibility: visible; opacity: 1; }

.log-modal-container { width: 600rpx; background: #fff; border-radius: 32rpx; padding: 30rpx; max-height: 70vh; display: flex; flex-direction: column; }
.log-modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 24rpx; border-bottom: 2rpx solid #f5f5f5; font-size: 32rpx; font-weight: bold; color: #333; }
.close-icon { color: #ccc; padding: 10rpx; font-size: 40rpx; line-height: 0.8; }
.log-scroll-view { flex: 1; min-height: 300rpx; max-height: 600rpx; padding-top: 24rpx; }
.modal-log-item { display: flex; align-items: flex-start; margin-bottom: 30rpx; }
.modal-log-avatar { width: 80rpx; height: 80rpx; border-radius: 50%; margin-right: 20rpx; border: 2rpx solid #fff; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.1); flex-shrink: 0; }
.modal-log-top { display: flex; justify-content: space-between; margin-bottom: 8rpx; }
.modal-log-name { font-size: 26rpx; font-weight: bold; }
.modal-log-name.mine { color: #ff6b81; }
.modal-log-name.partner { color: #42a5f5; }
.modal-log-time { font-size: 22rpx; color: #bbb; }
.modal-log-desc { font-size: 26rpx; color: #666; line-height: 1.5; }
.empty-log { text-align: center; color: #ccc; font-size: 24rpx; margin-top: 100rpx; }

/* ÂΩ©ËõãÂºπÁ™ó */
.egg-modal-mask { z-index: 2000; background: rgba(0,0,0,0.8); }
.egg-card { border-radius: 40rpx; }
.btn-get-egg { box-shadow: 0 10rpx 30rpx rgba(255, 107, 129, 0.4); }

/* ËØ¥ÊòéÂºπÁ™óÊ†∑Âºè */
.help-modal-card {
  width: 560rpx;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 32rpx;
  padding: 40rpx;
  animation: popIn 0.3s ease-out;
}
.help-header {
  text-align: center; margin-bottom: 30rpx;
}
.help-title {
  font-size: 34rpx; font-weight: 800; color: #333;
}
.help-content {
  font-size: 28rpx; color: #666; line-height: 1.6; text-align: justify;
}
.help-footer {
  margin-top: 40rpx; display: flex; justify-content: center;
}
.help-btn {
  background: #ff8a80; color: #fff; font-size: 30rpx;
  border-radius: 40rpx; padding: 10rpx 60rpx;
  box-shadow: 0 6rpx 16rpx rgba(255, 138, 128, 0.4);
}

/* ÂñÇÈ£üÂºπÁ™óÊ†∑Âºè */
.feed-modal-container {
  width: 560rpx;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 32rpx;
  padding: 40rpx;
  animation: popIn 0.3s ease-out;
}
.feed-header { text-align: center; font-size: 34rpx; font-weight: bold; margin-bottom: 30rpx; color: #5d4037; }
.feed-list { display: flex; flex-direction: column; gap: 24rpx; }
.feed-item {
  display: flex; align-items: center; background: #fff; padding: 20rpx; border-radius: 20rpx;
  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);
}
.feed-item:active { transform: scale(0.98); background: #fdfdfd; }
.feed-icon-bg { font-size: 50rpx; margin-right: 20rpx; width: 80rpx; height: 80rpx; background: #fffbf0; border-radius: 16rpx; display: flex; align-items: center; justify-content: center; }
.feed-info { flex: 1; display: flex; flex-direction: column; }
.feed-name { font-size: 28rpx; font-weight: bold; color: #333; }
.feed-effect { font-size: 22rpx; color: #888; margin-top: 4rpx; }
.feed-action { font-size: 24rpx; padding: 8rpx 20rpx; background: #ffcc80; color: #5d4037; border-radius: 30rpx; font-weight: bold; }
.feed-action.disabled { background: #eee; color: #aaa; }
.feed-footer { margin-top: 30rpx; text-align: center; }
.feed-tip { font-size: 22rpx; color: #aaa; }

@keyframes popIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}