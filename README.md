# 📖 我们的纪念册 (Our Memory)

> **记录爱，经营爱，把平淡的日常画成漫画里的模样。**
>
> A WeChat Mini Program for couples to record memories, play games, and grow love together.

这是一个基于 **微信小程序云开发** 构建的情侣互动应用。它不仅仅是一个相册，更是一个包含恋爱养成、双人游戏、权益兑换的完整“恋爱元宇宙”。

---

## ✨ 核心功能 (Features)

### 1. 📸 每日心动 (Today & AI Camera)
* **同频任务**：基于极客算法的每日任务系统（如“摸头杀”、“借位魔法”），确保情侣双方每天看到相同的挑战。
* **AI 魔法绘图**：
    * 集成 **腾讯云 AI 绘画** 能力。
    * 支持 **13+ 种风格**（日漫风、国风工笔、莫奈花园、黏土风、3D迪士尼等）。
    * **智能拍立得**：自动生成带有 AI 评分、趣味点评和日期的拍立得照片。
* **VIP 体系**：区分普通用户与 VIP 用户的生图额度与专属风格。

### 2. 🎡 恋爱乐园 (Playground)
打造了一个闭环的“爱情经济系统”：
* **🌹 玫瑰花园**：
    * **养成**：二人共同消耗“爱意值”浇灌玫瑰。
    * **收获**：玫瑰成熟后可收获，作为应用内的“硬通货”。
    * **日记**：记录每一次浇水的点滴。
* **🎁 特权工坊 (Coupons)**：
    * 消耗玫瑰制作兑换券（如：💆‍♂️揉肩卡、🍽️免洗金牌、🤝和好卡）。
    * **核销系统**：支持卡券的制作、赠送与扫码/点击核销。
* **🧩 默契大闯关**：双人同步答题，通过题目判断（如“谁更爱吃醋”）计算灵魂契合度。
* **📌 爱的留言板**：不仅是留言，还可以设置“当前状态”（如：🐷想你了、🌧️emo了）。
* **🎲 命运抉择**：治愈选择困难症，翻牌决定“今天吃什么”或“谁做家务”。

### 3. 💊 时光胶囊 (Time Capsule)
* **埋藏**：写下给未来的信或上传照片，设定开启日期（支持“月光宝盒”深夜彩蛋）。
* **封印**：未到时间无法开启，时间一到双方均可查阅。

### 4. 🎞️ 时光长廊 (Memory Lane)
* **双人时间轴**：将二人的打卡记录按时间串联，区分“ME”和“TA”的视角。
* **里程碑**：自动统计相爱天数与打卡总数，触发阶段性惊喜。

### 5. 🏠 专属空间 (Mine)
* **绑定机制**：通过邀请码实现双人绑定，数据实时互通。
* **纪念日**：自定义恋爱起始日，实时计算相爱天数。

---

## 🛠️ 技术架构 (Architecture)

本项目采用 **Serverless** 架构，完全基于微信小程序云开发。

### 📂 目录结构
```text
├── cloudfunctions/
│   ├── process_anime/      # [核心] AI 绘图服务 (腾讯云接入, 图片安全校验)
│   ├── user_center/        # [单体服务] 业务逻辑分发中心
│   │   ├── services/       # 包含 auth, capsule, garden, message, playground, quiz 等子模块
│   │   └── utils/          # 工具类 (内容安全, 彩蛋触发, 日志)
│   ├── get_daily_mission/  # [算法] 基于日期的每日任务生成
│   ├── get_memory_lane/    # [查询] 时光轴分页查询
│   └── init_task_pool/     # [脚本] 数据库初始化 (任务池, 题库, 彩蛋配置)
├── miniprogram/
│   ├── pages/              # 页面视图 (10+ 个页面)
│   ├── components/         # 公共组件
│   ├── images/             # 静态资源
│   └── utils/              # 前端配置 (卡券模板, 引导数据, 业务规则)
└── project.config.json     # 项目配置